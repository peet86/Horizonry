/*
* Horizonry v1.0
* CSS3 Masonry Horizontal Ordering
* http://vargapeter.com
* MIT License
* by Peter Varga (vargapeter.com)
*/
!function(i){i.horizonry=function(t,o){var e=this;e.$el=i(t),e.el=t,e.columns=0,e.cols=[],e.$el.data("horizonry",e),e.init=function(){e.options=i.extend({},i.horizonry.defaultOptions,o),e.$children=e.$el.children("."+e.options.itemSelector),e.$children_first=e.$children.first(),e.window_width=i(window).width(),e.sort()},i(window).resize(function(){i(window).width()!=e.window_width&&(e.window_width=i(window).width(),this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(function(){i(this).trigger("resizeEnd")},500))}),i(window).bind("resizeEnd",function(){e.reset(),e.sort()}),e.getCols=function(){var i=e.$el.width(),t=e.$children_first.width(),o=e.$children_first.position().left-e.$el.position().left,n=o+t,r=Math.round(i/n);return r},e.moveFirst=function(i){i.addClass(e.options.firstItemSelector),e.cols.push(i.height())},e.moveMasonry=function(i){var t=Math.min.apply(Math,e.cols),o=e.cols.indexOf(t);if(o+1==e.cols.length)e.$el.append(i);else{var n="."+e.options.firstItemSelector+":eq("+(o+1)+")",r=e.$el.find(n);i.insertBefore(r[0])}e.cols[o]+=i.height()},e.reset=function(){e.cols=[],e.$children.removeClass(e.options.firstItemSelector),e.$el.append(e.$children.sort(function(t,o){return i(t).attr("data-horizonrypos")-i(o).attr("data-horizonrypos")}))},e.sort=function(){e.columns=e.getCols(),e.$children.each(function(t){var o=i(this);o.attr("data-horizonrypos",t),t<=e.columns-1?e.moveFirst(o):e.moveMasonry(o)})},e.init()},i.horizonry.defaultOptions={itemSelector:"item",firstItemSelector:"item-first"},i.fn.horizonry=function(t){return this.each(function(){new i.horizonry(this,t)})}}(jQuery);
